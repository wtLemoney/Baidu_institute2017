<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>IFE JavaScript Task 02</title>
</head>
<body>
    <!-- 
    任务目的
        在上一任务基础上继续JavaScript的体验
        学习JavaScript中的if判断语法，for循环语法
        学习JavaScript中的数组对象
        学习如何读取、处理数据，并动态创建、修改DOM中的内容
    任务描述
        参考以下示例代码，页面加载后，将提供的空气质量数据数组，按照某种逻辑（比如空气质量大于60）进行过滤筛选，最后将符合条件的数据按照一定的格式要求显示在网页上 -->
        <h3>污染城市列表</h3>
        <ul id="aqi-list">
      <!--   
        <li>第一名：福州（样例），10</li>
        <li>第二名：福州（样例），10</li> -->
        </ul>
      

      <script type="text/javascript">    
            var aqiData = [
                ["北京", 90],
                ["上海", 50],
                ["福州", 10],
                ["广州", 50],
                ["成都", 90],
                ["西安", 100]
            ];
            
            (function () {
            
                /*
                在注释下方编写代码
                遍历读取aqiData中各个城市的数据
                将空气质量指数大于60的城市显示到aqi-list的列表中
                */
            //     var lists=document.getElementById("aqi-list");
            //     var index=["一","二","三","四","五","六"];
            //     var j=0;
            //     for(var i in aqiData){
            //         if(aqiData[i][1]>60){
                        
            //             var node=document.createElement("li");
            //             var textNode=document.createTextNode("第"+index[j]+"名："+aqiData[i][0]+'，'+aqiData[i][1]);
            //             node.appendChild(textNode);
            //             lists.appendChild(node);
            //             j++;            
            //     }
            // }
            var lists=document.querySelector("#aqi-list");
            var num=["一","二","三","四","五","六"];
            var j=0;
            var list_select=aqiData.filter(function(item,index,array){
                return item[1]>60;
            });//选择符合条件的值
            list_select.sort(function(a,b){
                return b[1]-a[1];
            });//排序
            
            list_select.forEach(function(item,index,array){
                var node=document.createElement("li");
                var textNode=document.createTextNode("第"+num[j]+"名："+item[0]+"，"+item[1]);
                node.appendChild(textNode);
                lists.appendChild(node);
                j++;
            })

            })();
            
      </script>


</body>
</html>